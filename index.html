<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <!-- Meta tags otimizadas para iOS -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Churras MJ">
  <title>Churras do MJ - Comunh√£o e Alegria</title>
  
  <!-- Favicon para Apple -->
  <link rel="apple-touch-icon" href="icon.png">
  
  <!-- CSS Externos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* Reset CSS para iOS */
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      box-sizing: border-box;
    }
    
    html {
      -webkit-text-size-adjust: 100%;
      -webkit-font-smoothing: antialiased;
      height: 100%;
      font-size: 62.5%;
    }
    
    body {
      -webkit-overflow-scrolling: touch;
      margin: 0;
      padding: 0;
      height: 100%;
      display: grid;
      place-items: center;
      font-family: "Rubik", sans-serif;
      font-size: 170%;
      background: radial-gradient(circle at 50% 50%, #192233 20%, #000);
      color: white;
      line-height: 1.5;
    }

    /* Vari√°veis de cor */
    :root {
      --color-gold: #ffcf0f;
      --color-gold-dark: #e6b800;
      --color-text: white;
      --color-bg: rgba(0, 0, 0, 0.7);
      --shadow-lg: 0 16px 24px rgba(0, 0, 0, 0.5);
    }

    /* Container principal */
    .container {
      width: 100%;
      max-width: 1200px;
      padding: 2rem;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Card do convite */
    .movie-card {
      --transition-duration: 700ms;
      position: relative;
      border-radius: 0.6em;
      overflow: hidden;
      font-size: 120%;
      height: min(21em, 80vh);
      max-width: 95vw;
      aspect-ratio: 16/9;
      box-shadow: var(--shadow-lg);
      transition: transform var(--transition-duration);
      font-family: 'Poppins', sans-serif;
      background-color: black;
      -webkit-backface-visibility: hidden;
      -webkit-transform: translateZ(0);
    }

    /* Imagem de fundo - ajuste para iOS */
    .movie-card img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: contain;
      object-position: center;
      top: 0;
      left: 0;
      -webkit-user-drag: none;
    }

    /* Overlay para melhor legibilidade */
    .movie-card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.3) 50%, transparent 100%);
      mix-blend-mode: multiply;
    }

    /* Conte√∫do do convite */
    .content {
      z-index: 2;
      position: absolute;
      bottom: min(2.5em, 6vmin);
      left: min(3em, 8vmin);
      right: min(3em, 8vmin);
      text-align: left;
      transition: transform var(--transition-duration) var(--ease-in-out);
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
    }

    .movie-card h1 {
      font-size: 1.8em;
      color: var(--color-text);
      margin: 0 0 0.3em 0;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .infos {
      font-size: 0.8em;
      font-weight: bold;
      color: var(--color-gold);
      display: flex;
      gap: 0.35em;
      align-items: flex-end;
    }

    .synopsis {
      font-size: 0.8em;
      line-height: 1.4;
      margin-block: 0.75em;
    }

    /* Elementos de informa√ß√£o */
    .location {
      display: flex;
      align-items: center;
      gap: 0.5em;
      margin-top: 0.5em;
      font-size: 0.8em;
    }

    .location i {
      font-size: 1.2em;
      color: var(--color-gold);
    }

    /* Bot√µes */
    .action-buttons {
      display: flex;
      gap: 1em;
      margin-top: 1em;
    }

    .btn {
      padding: 0.6em 1.2em;
      border-radius: 50px;
      font-weight: 500;
      font-size: 0.7em;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5em;
      -webkit-appearance: none;
    }

    .btn-primary {
      background-color: var(--color-gold);
      color: black;
    }

    .btn-secondary {
      background-color: transparent;
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    /* Contador regressivo */
    .countdown {
      display: flex;
      gap: 0.5em;
      margin-top: 1em;
    }

    .countdown-item {
      text-align: center;
      background: rgba(255, 207, 15, 0.2);
      padding: 0.3em 0.6em;
      border-radius: 5px;
      min-width: 2.5em;
      backdrop-filter: blur(5px);
    }

    /* Media Queries para iOS */
    @media only screen and (max-device-width: 812px) {
      .movie-card {
        height: 80vh;
        max-width: 95vw;
      }
      
      .content {
        bottom: 3vmin;
        left: 4vmin;
        right: 4vmin;
      }
      
      .movie-card h1 {
        font-size: 1.6em;
      }
      
      .synopsis {
        font-size: 0.7em;
      }
    }

    /* iPhone X/XS/11 Pro */
    @media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) {
      .movie-card {
        height: 75vh;
      }
    }

    /* iPad */
    @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {
      .movie-card {
        height: 85vh;
        max-width: 80vw;
      }
      
      .movie-card h1 {
        font-size: 2em;
      }
    }
  </style>
</head>
<body>
  <div class="container animate__animated animate__fadeIn">
    <div class="movie-card">
      <img src="churras.jpeg" alt="Churras do MJ">
      <div class="content">
        <h1>CHURRAS DO MJ <span>üçñüî•</span></h1>
        <div class="infos">
          <span>Quinta-feira ‚Ä¢ 18h</span>
        </div>
        <div class="synopsis">
          <p>Vamos celebrar a vida e a comunh√£o com um churrasco aben√ßoado! Traga sua alegria e seu apetite! <span>üôå</span></p>
          
          <div class="location">
            <i class="fas fa-map-marker-alt"></i>
            <span>Casa da B√°rbara e do Rafael</span>
          </div>

          <div class="location">
            <i class="fas fa-qrcode"></i>
            <span><a href="https://maps.google.com/maps?q=-16.684844970703125%2C-49.207698822021484&z=17&hl=pt-BR" style="color: #ffcf0f; text-decoration: none;">Clique para ver localiza√ß√£o no mapa</a></span>
          </div>

          <div class="carona-info">
            <i class="fas fa-car"></i>
            <span>Precisa de carona? Avise no grupo!</span>
          </div>
          
          <div class="countdown">
            <div class="countdown-item">
              <div class="countdown-number" id="days">00</div>
              <div class="countdown-label">dias</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-number" id="hours">00</div>
              <div class="countdown-label">horas</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-number" id="minutes">00</div>
              <div class="countdown-label">min</div>
            </div>
            <div class="countdown-item">
              <div class="countdown-number" id="seconds">00</div>
              <div class="countdown-label">seg</div>
            </div>
          </div>
          
          <div class="action-buttons">
            <button class="btn btn-primary" onclick="confirmPresence()">
              <i class="fas fa-check-circle"></i> Confirmar presen√ßa
            </button>
            <button class="btn btn-secondary" onclick="shareEvent()">
              <i class="fas fa-share-alt"></i> Compartilhar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Detec√ß√£o de iOS e ajustes
    const isIOS = () => {
      return /iPad|iPhone|iPod/.test(navigator.userAgent) || 
             (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    };

    // Prevenir comportamentos indesejados no iOS
    if(isIOS()) {
      document.addEventListener('touchmove', function(e) {
        if(e.scale !== 1) e.preventDefault();
      }, { passive: false });
      
      document.addEventListener('gesturestart', function(e) {
        e.preventDefault();
      });
      
      // Ajuste para a barra de seguran√ßa do iPhone X+
      document.documentElement.style.setProperty(
        '--sat', 'env(safe-area-inset-top)'
      );
      document.documentElement.style.setProperty(
        '--sar', 'env(safe-area-inset-right)'
      );
      document.documentElement.style.setProperty(
        '--sab', 'env(safe-area-inset-bottom)'
      );
      document.documentElement.style.setProperty(
        '--sal', 'env(safe-area-inset-left)'
      );
    }

    // Configura√ß√£o do contador regressivo
    document.addEventListener('DOMContentLoaded', function() {
      const now = new Date();
      const eventDate = new Date();
      
      // Pr√≥xima quinta-feira √†s 18h
      eventDate.setDate(now.getDate() + ((4 + 7 - now.getDay()) % 7));
      eventDate.setHours(18, 0, 0, 0);
      
      if (now > eventDate) {
        eventDate.setDate(eventDate.getDate() + 7);
      }
      
      setInterval(() => updateCountdown(eventDate), 1000);
      updateCountdown(eventDate);
    });

    function updateCountdown(eventDate) {
      const now = new Date();
      const diff = eventDate - now;
      
      if (diff <= 0) {
        document.getElementById('days').textContent = '00';
        document.getElementById('hours').textContent = '00';
        document.getElementById('minutes').textContent = '00';
        document.getElementById('seconds').textContent = '00';
        return;
      }
      
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      
      document.getElementById('days').textContent = days.toString().padStart(2, '0');
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
    }

    function confirmPresence() {
      alert('Obrigado por confirmar sua presen√ßa no churrasco! üçñ Vai ser uma b√™n√ß√£o!');
    }

    function shareEvent() {
      if (navigator.share) {
        navigator.share({
          title: 'Churras do MJ - Comunh√£o e Alegria',
          text: 'Venha participar do nosso churrasco aben√ßoado! Quinta-feira √†s 18h na casa da B√°rbara e do Rafael.',
          url: window.location.href
        }).catch(err => {
          console.log('Erro ao compartilhar:', err);
        });
      } else {
        // Fallback para WhatsApp
        const shareUrl = `https://wa.me/?text=Venha%20para%20o%20Churras%20do%20MJ!%20Quinta-feira%20√†s%2018h%20na%20casa%20da%20B√°rbara%20e%20do%20Rafael.%20${encodeURIComponent(window.location.href)}`;
        window.open(shareUrl, '_blank');
      }
    }
  </script>
</body>
</html>v
